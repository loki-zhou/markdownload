<!DOCTYPE html>
<html>
<head>
    <title>URL Issue Debug</title>
</head>
<body>
    <h1>URL Issue Debug</h1>
    <p>This page is for debugging URL handling issues in the MarkDownload extension.</p>
    
    <script>
        // Test URL handling
        function testUrlHandling() {
            const urls = [
                "#section",
                "page.html#section",
                "/absolute/path#section",
                "https://example.com#section",
                "https://github.com/user/repo#readme"
            ];
            
            console.log("Testing URL handling:");
            urls.forEach(url => {
                try {
                    console.log(`URL: ${url}`);
                    console.log(`  isAnchorLink: ${url.startsWith('#') && url.length > 1}`);
                    console.log(`  isRelative: ${!url.includes('://') && !url.startsWith('/')}`);
                    console.log(`  hasAnchor: ${url.includes('#')}`);
                } catch (e) {
                    console.error(`Error processing ${url}:`, e);
                }
            });
        }
        
        testUrlHandling();
    </script>
</body>
</html>